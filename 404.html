<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Halaman tidak ditemukan — Viridelis</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#f6f7f9;display:flex;align-items:center;justify-content:center;height:100vh}
    .box{text-align:center;color:#333}
    a{color:#0366d6;text-decoration:none}
  </style>
  <!-- Tampilkan pesan dan tombol manual untuk pindah ke aplikasi (hash URL).
       Ini lebih aman daripada redirect otomatis di edge node yang mungkin belum
       menyajikan versi terbaru dari 404.html. -->
  <style>
    .redirect-box{max-width:720px;margin:40px auto;padding:28px;background:#fff;border-radius:12px;text-align:center}
    .redirect-btn{display:inline-block;margin:8px 12px;padding:10px 18px;border-radius:8px;background:#0366d6;color:#fff;text-decoration:none}
  </style>
  <div class="redirect-box">
    <h2>Halaman tidak ditemukan</h2>
    <p>Halaman ini adalah fallback untuk aplikasi SPA. Kami akan memuat aplikasi dan meneruskan Anda ke rute yang Anda minta (clean URL) — ini memungkinkan URL tanpa <code>#</code>.</p>
    <p style="color:#666;font-size:13px;margin-top:10px">Jika Anda tetap melihat masalah, klik tombol di bawah untuk membuka beranda atau halaman kontrol.</p>
    <p>
      <a class="redirect-btn" href="/Viridelis/">Buka Beranda Aplikasi</a>
      <a class="redirect-btn" href="/Viridelis/#/control">Buka Halaman Kontrol (Hash)</a>
    </p>
  </div>

  <script>
    // SPA fallback for GitHub Pages: fetch index.html and inject it so BrowserRouter can handle clean URLs
    (function () {
      try {
        var repoBase = '/Viridelis';
        var pathname = window.location.pathname || '/';
        // ignore requests for assets (images/css/js/etc.)
        if (pathname.match(/\.(js|css|png|jpg|jpeg|svg|ico|json)$/i)) return;

        var indexUrl = repoBase + '/index.html';
        fetch(indexUrl, { cache: 'no-store' })
          .then(function (r) { return r.text(); })
          .then(function (html) {
            // write index.html content into this document
            document.open();
            document.write(html);
            document.close();
            // restore the requested clean URL in the address bar so BrowserRouter sees it
            var requested = window.location.pathname + window.location.search + window.location.hash;
            if (requested.indexOf(repoBase) !== 0) requested = repoBase + requested;
            try { history.replaceState(null, '', requested); } catch (e) { /* ignore */ }
          })
          .catch(function () {
            // on failure, keep the 404 UI visible (user can click links)
          });
      } catch (e) {
        // noop
      }
    })();
  </script>
</head>
<body>
  <div class="box">
    <h1>404 — Halaman tidak ditemukan</h1>
    <p>Sepertinya halaman yang Anda minta tidak ada.</p>
    <p>Anda akan diarahkan kembali ke beranda dalam beberapa detik.</p>
    <p><a href="/Viridelis/">Kembali ke Beranda sekarang</a></p>
  </div>
</body>
</html>
